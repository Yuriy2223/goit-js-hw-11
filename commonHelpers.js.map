{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const API_KEY = '41830108-cae6afe398dec34048fd09339';\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('#gallery');\nconst loader = document.querySelector('#loader');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  loader.classList.remove('hidden');\n  gallery.innerHTML = '';\n\n  const searchQuery = event.currentTarget.elements.query.value;\n\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      loader.classList.add('hidden');\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      const images = data.hits.map(image => {\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        img.dataset.large = image.largeImageURL;\n\n        const link = document.createElement('a');\n        link.href = image.largeImageURL;\n        link.appendChild(img);\n\n        return link;\n      });\n\n      gallery.append(...images);\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.classList.add('hidden');\n\n      iziToast.error({\n        title: 'Error',\n        message: `An error occurred: ${error.message}`,\n      });\n    });\n});\n"],"names":["API_KEY","form","gallery","loader","lightbox","SimpleLightbox","event","searchQuery","response","data","iziToast","images","image","img","link","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCAQVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,YAAY,EAEhDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEpBH,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAY,GAEpB,MAAMK,EAAcD,EAAM,cAAc,SAAS,MAAM,MAEvD,MACE,gCAAgCN,OAAaO,2DAC9C,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAGZ,GAFAN,EAAO,UAAU,IAAI,QAAQ,EAEzBM,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CAED,MAAMC,EAASF,EAAK,KAAK,IAAIG,GAAS,CACpC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMD,EAAM,aAChBC,EAAI,IAAMD,EAAM,KAChBC,EAAI,QAAQ,MAAQD,EAAM,cAE1B,MAAME,EAAO,SAAS,cAAc,GAAG,EACvC,OAAAA,EAAK,KAAOF,EAAM,cAClBE,EAAK,YAAYD,CAAG,EAEbC,CACf,CAAO,EAEDZ,EAAQ,OAAO,GAAGS,CAAM,EAExBP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMW,GAAS,CACdZ,EAAO,UAAU,IAAI,QAAQ,EAE7BO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBK,EAAM,SAC7C,CAAO,CACP,CAAK,CACL,CAAC"}