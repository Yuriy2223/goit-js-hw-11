{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const API_KEY = process.env.API_KEY;\n\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('#gallery');\nconst loader = document.querySelector('#loader');\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  loader.classList.remove('hidden');\n  gallery.innerHTML = '';\n\n  const searchQuery = event.currentTarget.elements.query.value;\n\n  fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      loader.classList.add('hidden');\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      const images = data.hits.map(image => {\n        return `<a href=\"${image.largeImageURL}\">\n                  <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-large=\"${image.largeImageURL}\">\n                </a>`;\n      });\n\n      gallery.insertAdjacentHTML('beforeend', images.join(''));\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.classList.add('hidden');\n\n      iziToast.error({\n        title: 'Error',\n        message: `An error occurred: ${error.message}`,\n      });\n    });\n});\n"],"names":["API_KEY","form","gallery","loader","lightbox","SimpleLightbox","event","searchQuery","response","data","iziToast","images","image","error"],"mappings":"6vBAAA,MAAMA,EAAU,CAAA,EAAY,QAQtBC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,YAAY,EAEhDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEpBH,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAY,GAEpB,MAAMK,EAAcD,EAAM,cAAc,SAAS,MAAM,MAEvD,MACE,gCAAgCN,OAAaO,2DAC9C,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CAGZ,GAFAN,EAAO,UAAU,IAAI,QAAQ,EAEzBM,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CAED,MAAMC,EAASF,EAAK,KAAK,IAAIG,GACpB,YAAYA,EAAM;AAAA,8BACHA,EAAM,sBAAsBA,EAAM,qBAAqBA,EAAM;AAAA,qBAEpF,EAEDV,EAAQ,mBAAmB,YAAaS,EAAO,KAAK,EAAE,CAAC,EAEvDP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACdV,EAAO,UAAU,IAAI,QAAQ,EAE7BO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBG,EAAM,SAC7C,CAAO,CACP,CAAK,CACL,CAAC"}